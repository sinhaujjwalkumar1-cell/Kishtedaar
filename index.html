<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kishtedaar • Smart Loan & EMI</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="data:image/svg+xml;utf8,
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
    <defs><linearGradient id='g' x1='0' x2='1'>
      <stop stop-color='%2325518a'/><stop offset='1' stop-color='%23c0cad6'/>
    </linearGradient></defs>
    <circle cx='32' cy='32' r='30' fill='url(%23g)'/>
    <path d='M18 36h28M18 28h28M18 44h20' stroke='white' stroke-width='4' stroke-linecap='round'/>
  </svg>" />
</head>
<body>
  <!-- Topbar -->
  <header class="nav shadow">
    <div class="brand">
      <span class="logo"></span>
      <span class="brand-text">Kishtedaar</span>
    </div>
    <nav class="links">
      <a data-route="home" class="active">Home</a>
      <a data-route="products">Products</a>
      <a data-route="loans">Loans</a>
      <a data-route="bills">EMI on Bill</a>
      <a data-route="contact">Contact</a>
      <button id="loginBtn" class="btn ghost">Login</button>
      <button id="logoutBtn" class="btn danger hide">Logout</button>
    </nav>
  </header>

  <!-- Hero -->
  <section id="home" class="page active">
    <div class="hero">
      <div class="hero-text">
        <h1 id="sloganText">Smart Loan & EMI Management</h1>
        <p>Track your loans, manage EMIs, earn rewards — all in one premium app.</p>
        <div class="hero-cta">
          <button class="btn primary" data-route="products">Explore Products</button>
          <button class="btn outline" data-route="loans">Check My Loans</button>
        </div>
        <ul class="bullets">
          <li>Instant EMI calculator</li>
          <li>Loan tracking & smart reminders</li>
          <li>Reward points for timely payments</li>
          <li>Admin offers & Seller loan creation</li>
          <li>EMI on utility / shopping bills</li>
        </ul>
      </div>
      <div class="hero-art card">
        <!-- Decorative SVG -->
        <svg viewBox="0 0 340 220" class="chart">
          <defs>
            <linearGradient id="glow" x1="0" x2="1">
              <stop stop-color="#5fa8ff"/><stop offset="1" stop-color="#c7d2e5"/>
            </linearGradient>
          </defs>
          <path d="M10 180 Q 90 120 140 150 T 330 90" fill="none" stroke="url(#glow)" stroke-width="6" stroke-linecap="round"/>
          <g fill="#1e3a8a">
            <circle cx="60" cy="150" r="6"/><circle cx="140" cy="150" r="6"/><circle cx="220" cy="120" r="6"/><circle cx="300" cy="90" r="6"/>
          </g>
        </svg>
        <p class="muted">Premium Blue–Silver Theme • Smooth micro-animations</p>
      </div>
    </div>

    <!-- Quick feature cards -->
    <div class="grid features">
      <div class="card feature">
        <span class="ico">💳</span>
        <h3>EMI Calculator</h3>
        <p>Accurate monthly / total interest with amortization table.</p>
        <button class="btn tiny" data-route="loans" data-tab="calc">Try now</button>
      </div>
      <div class="card feature">
        <span class="ico">📦</span>
        <h3>Products & Offers</h3>
        <p>Admin adds products, offers & banners. Customers apply loan or add to cart.</p>
        <button class="btn tiny" data-route="products">Shop</button>
      </div>
      <div class="card feature">
        <span class="ico">🧾</span>
        <h3>EMI on Bills</h3>
        <p>Convert utilities & shopping bills into easy installments.</p>
        <button class="btn tiny" data-route="bills">Convert bill</button>
      </div>
    </div>
  </section>

  <!-- Products -->
  <section id="products" class="page">
    <div class="page-header">
      <h2>Products</h2>
      <div class="page-actions">
        <input id="searchProducts" placeholder="Search products…" />
        <button class="btn outline" id="viewCartBtn">Cart (<span id="cartCount">0</span>)</button>
      </div>
    </div>

    <div id="productGrid" class="grid cards"></div>

    <!-- Cart Drawer -->
    <dialog id="cartDrawer" class="drawer">
      <div class="drawer-head">
        <h3>Your Cart</h3>
        <button class="icon close" data-close>✖</button>
      </div>
      <div id="cartItems"></div>
      <div class="drawer-foot">
        <div class="sum"><span>Total:</span> ₹<span id="cartTotal">0</span></div>
        <button class="btn primary" id="checkoutBtn">Checkout</button>
      </div>
    </dialog>
  </section>

  <!-- Loans -->
  <section id="loans" class="page">
    <div class="tabs">
      <button class="tab active" data-tab="mine">My Loans</button>
      <button class="tab" data-tab="create">Create Loan (Seller)</button>
      <button class="tab" data-tab="calc">EMI Calculator</button>
    </div>

    <!-- My loans -->
    <div class="tabpane active" id="pane-mine">
      <div id="loanList" class="stack"></div>
    </div>

    <!-- Seller create loan -->
    <div class="tabpane" id="pane-create">
      <form id="sellerLoanForm" class="card form">
        <h3>Create Customer Loan</h3>
        <div class="row">
          <label>Customer Email</label>
          <input id="slCustomer" type="email" required placeholder="user@domain.com" />
        </div>
        <div class="row">
          <label>Product / Purpose</label>
          <input id="slPurpose" required placeholder="TV 55”, Refrigerator…" />
        </div>
        <div class="row grid2">
          <div>
            <label>Amount (₹)</label>
            <input id="slAmount" type="number" min="1" required />
          </div>
          <div>
            <label>Interest % (per annum)</label>
            <input id="slRate" type="number" step="0.01" min="0" value="12" required />
          </div>
          <div>
            <label>Tenure (months)</label>
            <input id="slMonths" type="number" min="1" value="12" required />
          </div>
          <div>
            <label>Seller Shop</label>
            <input id="slShop" placeholder="ABC Electronics, Delhi" required />
          </div>
        </div>
        <button class="btn primary" type="submit">Create Loan</button>
        <p class="muted">The loan will appear in the customer’s dashboard immediately.</p>
      </form>
    </div>

    <!-- Calculator -->
    <div class="tabpane" id="pane-calc">
      <form id="emiForm" class="card form">
        <h3>EMI Calculator</h3>
        <div class="grid3">
          <div><label>Amount (₹)</label><input id="cAmt" type="number" value="100000"/></div>
          <div><label>Rate % (pa)</label><input id="cRate" type="number" value="12" step="0.01"/></div>
          <div><label>Months</label><input id="cMon" type="number" value="12"/></div>
        </div>
        <button class="btn" id="calcBtn" type="button">Calculate</button>
        <div id="emiOut" class="stats"></div>
        <div id="amort" class="table"></div>
      </form>
    </div>
  </section>

  <!-- Bills -->
  <section id="bills" class="page">
    <form id="billForm" class="card form">
      <h3>EMI on Bill</h3>
      <div class="grid3">
        <div><label>Bill Type</label>
          <select id="billType">
            <option>Electricity</option><option>Water</option><option>Gas</option>
            <option>Shopping</option><option>Medical</option>
          </select>
        </div>
        <div><label>Amount (₹)</label><input id="billAmt" type="number" value="5000"/></div>
        <div><label>Tenure (months)</label><input id="billTen" type="number" value="6"/></div>
        <div><label>Interest % (pa)</label><input id="billRate" type="number" value="10" step="0.01"/></div>
      </div>
      <button class="btn" id="billCalc" type="button">Convert to EMI</button>
      <div id="billOut" class="stats"></div>
    </form>
  </section>

  <!-- Contact -->
  <section id="contact" class="page">
    <div class="card">
      <h3>Contact Us</h3>
      <p>Email: support@kishtedaar.com • Phone: +91 98765 43210</p>
    </div>
  </section>

  <!-- Admin Panel -->
  <section id="admin" class="page">
    <div class="tabs">
      <button class="tab active" data-tab="a-slogan">Slogan</button>
      <button class="tab" data-tab="a-products">Products</button>
      <button class="tab" data-tab="a-offers">Offers</button>
    </div>

    <div class="tabpane active" id="pane-a-slogan">
      <form id="sloganForm" class="card form">
        <h3>Update Home Page Slogan</h3>
        <input id="sloganInput" maxlength="80" placeholder="Write a catchy line…" />
        <button class="btn primary" type="submit">Save Slogan</button>
      </form>
    </div>

    <div class="tabpane" id="pane-a-products">
      <form id="addProductForm" class="card form">
        <h3>Add Product</h3>
        <div class="grid3">
          <div><label>Name</label><input id="pName" required></div>
          <div><label>Price (₹)</label><input id="pPrice" type="number" required></div>
          <div><label>Down Payment (₹)</label><input id="pDown" type="number" value="0"></div>
        </div>
        <div class="grid2">
          <div><label>Image (URL or leave blank)</label><input id="pImg" placeholder="https://…"></div>
          <div><label>Default EMI Months</label><input id="pMonths" type="number" value="12"></div>
        </div>
        <button class="btn primary" type="submit">Add Product</button>
      </form>

      <div class="card">
        <h3>Manage Products</h3>
        <div id="adminProductList" class="grid cards"></div>
      </div>
    </div>

    <div class="tabpane" id="pane-a-offers">
      <form id="addOfferForm" class="card form">
        <h3>Add Offer Banner</h3>
        <div class="grid2">
          <div><label>Title</label><input id="oTitle"></div>
          <div><label>Description</label><input id="oDesc"></div>
        </div>
        <button class="btn" type="submit">Add Offer</button>
      </form>
      <div class="card">
        <h3>Active Offers</h3>
        <ul id="offerList" class="stack"></ul>
      </div>
    </div>
  </section>

  <!-- Seller Panel (light) -->
  <section id="seller" class="page">
    <div class="card">
      <h3>Seller Shortcuts</h3>
      <div class="grid2">
        <button class="btn outline" data-route="loans" data-tab="create">Create Loan</button>
        <button class="btn" data-route="products">View Products</button>
      </div>
    </div>
  </section>

  <!-- Auth Modal -->
  <dialog id="auth" class="modal card">
    <div class="modal-head">
      <h3>Login</h3>
      <button class="icon close" data-close>✖</button>
    </div>
    <form id="loginForm" class="form">
      <div class="row"><label>Email</label><input id="email" type="email" required /></div>
      <div class="row"><label>Password</label><input id="password" type="password" required /></div>
      <div class="row">
        <label>Role</label>
        <select id="role">
          <option value="customer">Customer</option>
          <option value="seller">Seller</option>
          <option value="admin">Admin</option>
        </select>
      </div>
      <button class="btn primary" type="submit">Sign in</button>
      <p class="muted small">Demo: admin@kishtedaar.com / Admin@123, seller@… / Seller@123, user@… / User@123</p>
    </form>
  </dialog>

  <!-- Toast -->
  <div id="toast"></div>

  <footer class="footer">© 2025 Kishtedaar. All rights reserved.</footer>

  <script src="script.js"></script>
</body>
</html>
